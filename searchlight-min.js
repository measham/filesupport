gsap.registerPlugin(ScrollTrigger);const lenis=new Lenis;function initHomeSectorsSpotlight(){let e=document.querySelector(".section.home__sectors");if(!e)return;let t=e.querySelector(".home__sectors-bg");if(!t)return;let r=t.querySelectorAll(".home__sectors-bg-item");if(r.length<2)return;let l="polygon(-8% 0%, 108% 0%, 108% 50%, -8% 50%)",i="polygon(-8% 50%, 108% 50%, 108% 100%, -8% 100%)",a="polygon(-8% 0%, 108% 0%, 108% 0%, -8% 50%)",n="polygon(-8% 50%, 108% 100%, 108% 100%, -8% 100%)",s="polygon(-8% 0%, -8% 0%, -8% 0%, -8% 50%)",o="polygon(-8% 50%, -8% 100%, -8% 100%, -8% 100%)";gsap.set(r[0],{clipPath:l,webkitClipPath:l}),gsap.set(r[1],{clipPath:i,webkitClipPath:i}),gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",end:"bottom 40%",scrub:!0}}).to(r[0],{clipPath:a,webkitClipPath:a,ease:"none",duration:.35},0).to(r[1],{clipPath:n,webkitClipPath:n,ease:"none",duration:.35},0).to(r[0],{clipPath:s,webkitClipPath:s,ease:"none",duration:.65},.35).to(r[1],{clipPath:o,webkitClipPath:o,ease:"none",duration:.65},.35)}function initNavigation(){document.querySelectorAll('[data-navigation-toggle="toggle"]').forEach(e=>{e.addEventListener("click",()=>{let e=document.querySelector("[data-navigation-status]");e&&("close"===e.getAttribute("data-navigation-status")?e.setAttribute("data-navigation-status","open"):e.setAttribute("data-navigation-status","close"))})}),document.querySelectorAll('[data-navigation-toggle="close"]').forEach(e=>{e.addEventListener("click",()=>{let e=document.querySelector("[data-navigation-status]");e&&e.setAttribute("data-navigation-status","close")})}),document.addEventListener("keydown",e=>{if(27===e.keyCode){let t=document.querySelector("[data-navigation-status]");t&&"open"===t.getAttribute("data-navigation-status")&&t.setAttribute("data-navigation-status","close")}})}function initCSSMarquee(){let e=document.querySelectorAll("[data-css-marquee]"),t=new IntersectionObserver(e=>{e.forEach(e=>{let t=e.target.querySelector("[data-css-marquee-track]");t&&(t.style.animationPlayState=e.isIntersecting?"running":"paused")})},{threshold:0});e.forEach(e=>{let r=e.querySelector("[data-css-marquee-list]");if(!r)return;let l=e.querySelector("[data-css-marquee-track]");if(l||((l=document.createElement("div")).setAttribute("data-css-marquee-track",""),e.appendChild(l),l.appendChild(r)),!l.querySelector('[data-clone="true"]')){let i=r.cloneNode(!0);i.setAttribute("data-clone","true"),l.appendChild(i)}requestAnimationFrame(()=>{let e=r.scrollHeight||r.offsetHeight;l.style.setProperty("--marquee-duration",e/75+"s")}),t.observe(e)})}function initSwiperSlider(){let e=document.querySelectorAll("[data-swiper-group]");if(!e.length)return;let t=["pink","purple","yellow","green"],r="client-card",l={testimonial:{slidesPerView:1.05,breakpoints:{480:{slidesPerView:1.05},992:{slidesPerView:2.45}}},about:{slidesPerView:1.1,breakpoints:{480:{slidesPerView:1.05},992:{slidesPerView:1.4}}},client:{slidesPerView:1.2,spaceBetween:8,centeredSlides:!0,centeredSlidesBounds:!1,centerInsufficientSlides:!0,breakpoints:{480:{slidesPerView:1.2,spaceBetween:8},992:{slidesPerView:1.35,spaceBetween:16}}},sparks:{slidesPerView:1.05,breakpoints:{480:{slidesPerView:1.15},992:{slidesPerView:2.35}}},default:{slidesPerView:1.05,breakpoints:{480:{slidesPerView:1.05},992:{slidesPerView:3.35}}}},i=(e,t)=>{if(e.length<=1)return e[0];let r=t;for(;r===t;)r=e[Math.floor(Math.random()*e.length)];return r};function a(e,t,r,l={}){if(!e||!t||!r)return;t._edgeTapCleanup&&t._edgeTapCleanup();let i="number"==typeof l.edge?l.edge:.2,a="number"==typeof l.tapSlop?l.tapSlop:12,n=0,s=0,o=!1,d=e=>!!(e&&e instanceof Element)&&!!e.closest("a, button, input, textarea, select, label, [data-edge-tap-ignore], .swiper-pagination, .swiper-scrollbar"),c=e=>{("mouse"!==e.pointerType||0===e.button)&&(d(e.target)||(o=!1,n=e.clientX,s=e.clientY))},u=e=>{if(o)return;let t=Math.abs(e.clientX-n),r=Math.abs(e.clientY-s);(t>a||r>a)&&(o=!0)},p=e=>{if(d(e.target)||o)return;let l=t.getBoundingClientRect(),a=e.clientX-l.left,n=l.width;if(a<=n*i){!1!==r.allowSlidePrev&&r.slidePrev();return}if(a>=n*(1-i)){!1!==r.allowSlideNext&&r.slideNext();return}},f=()=>{o=!0};t.addEventListener("pointerdown",c,{passive:!0}),t.addEventListener("pointermove",u,{passive:!0}),t.addEventListener("pointerup",p,{passive:!0}),t.addEventListener("pointercancel",f,{passive:!0}),t._edgeTapCleanup=()=>{t.removeEventListener("pointerdown",c),t.removeEventListener("pointermove",u),t.removeEventListener("pointerup",p),t.removeEventListener("pointercancel",f),t._edgeTapCleanup=null}}let n=["yellow","green","pink","purple"],s=e=>{if(!e?.slides?.length)return;let t=0;e.slides.forEach(e=>{if(e.classList.contains("swiper-slide-duplicate"))return;let r=e.querySelector(".swiper__sparks-item");if(!r)return;let l=n[t%n.length];r.setAttribute("data-theme",l),t+=1})},o=e=>(e.removeAttribute("style"),e.classList.remove("swiper-slide-active","swiper-slide-next","swiper-slide-prev","active"),e.removeAttribute("aria-label"),e.removeAttribute("role"),e),d=e=>{let t=Array.from(e.querySelectorAll(".swiper__client-border"));t.length>1&&t.slice(1).forEach(e=>e.remove()),e.querySelectorAll("[data-active-bg]").forEach(e=>{e.hasAttribute("data-theme-default")||e.setAttribute("data-theme-default",e.getAttribute("data-theme")||r)})},c=e=>{if(e._clientOriginalSlides&&e._clientOriginalSlides.length)return;let t=e.querySelector(".swiper-wrapper");if(!t)return;let r=Array.from(t.children).filter(e=>e.classList.contains("swiper-slide")&&!e.hasAttribute("data-slide-group"));if(!r.length){let l=Array.from(t.querySelectorAll('[data-slide-group="true"] .client-slide__card'));e._clientOriginalSlides=l.map(e=>{let t=document.createElement("div");return t.className="swiper-slide is--clients w-dyn-item",t.innerHTML=e.innerHTML,o(t),d(t),t});return}e._clientOriginalSlides=r.map(e=>{let t=o(e.cloneNode(!0));return d(t),t})},u=(e,t)=>{let r=e.querySelector(".swiper-wrapper");if(!r)return;c(e);let l=e._clientOriginalSlides||[];if(r.innerHTML="",1===t){l.forEach(e=>{let t=o(e.cloneNode(!0));t.classList.add("swiper-slide"),r.appendChild(t)});return}for(let i=0;i+t<=l.length;i+=t){let a=document.createElement("div");a.className="swiper-slide is--clients is--clients-group",a.setAttribute("data-slide-group","true");let n=document.createElement("div");n.className="client-slide__stack",n.style.display="flex",n.style.flexDirection="column",n.style.gap="16px";let s=l.slice(i,i+t).map(e=>e.cloneNode(!0));s.forEach(e=>{o(e),e.classList.remove("swiper-slide"),e.className="client-slide__card is--clients w-dyn-item",e.setAttribute("role","listitem"),d(e),n.appendChild(e)}),a.appendChild(n),r.appendChild(a)}},p=e=>e?Array.from(e.querySelectorAll("[data-active-bg]")):[],f=(e,l,n,s)=>{let o=window.matchMedia("(min-width: 992px)"),d=null,c=null,f=null,g=[],m=e=>{let l=e.slides[e.activeIndex];if(!l)return;f&&f.classList.remove("active"),g.forEach(e=>{let t=e.getAttribute("data-theme-default")||e.getAttribute("data-theme")||r;e.setAttribute("data-theme",t)}),l.classList.add("active");let a=p(l);a.forEach(e=>{e.hasAttribute("data-theme-default")||e.setAttribute("data-theme-default",e.getAttribute("data-theme")||r)});let n=i(t,c);c=n,a.forEach(e=>e.setAttribute("data-theme",n)),f=l,g=a},h=()=>{if(l._edgeTapCleanup&&l._edgeTapCleanup(),d&&d.destroy){try{d.destroy(!0,!0)}catch(t){}d=null}let r=o.matches?2:1;u(l,r),d=new Swiper(l,{...s,slidesPerView:n.slidesPerView,spaceBetween:n.spaceBetween??0,centeredSlides:!!n.centeredSlides,centeredSlidesBounds:!!n.centeredSlidesBounds,centerInsufficientSlides:!!n.centeredSlides,breakpoints:n.breakpoints,on:{init(){m(this)},slideChange(){m(this)}}}),e.hasAttribute("data-edge-tap-nav")&&a(e,l,d,{edge:.2})};h(),o.addEventListener("change",h),e.dataset.clientGroupedInit="true"};e.forEach(e=>{let n=e.querySelector("[data-swiper-wrap]");if(!n)return;let o=(n.getAttribute("data-swiper-wrap")||"").trim().toLowerCase();o&&e.classList.add(`is-swiper-${o}`);let d=l[o]||l.default,c="sparks"===o,u=e.querySelector("[data-swiper-prev]"),p=e.querySelector("[data-swiper-next]"),g=e.querySelector(".swiper-pagination"),m=e.querySelector(".swiper-scrollbar"),h={speed:600,grabCursor:!0,mousewheel:{enabled:!0,forceToAxis:!0},keyboard:{enabled:!0,onlyInViewport:!1},a11y:{enabled:!0,slideRole:"listitem"},...c&&m?{scrollbar:{el:m,draggable:!1,hide:!1,snapOnRelease:!1}}:{},...!c&&(u||p)?{navigation:{nextEl:p,prevEl:u}}:{},...!c&&g?{pagination:{el:g,type:"bullets",clickable:!0,renderBullet(e,t){let r=e+1;return`<button type="button" class="${t}" aria-label="Go to slide ${r}">${r}</button>`}}}:{}};if("client"===o){if("true"===e.dataset.clientGroupedInit)return;f(e,n,d,h);return}let y="testimonial"===o,b=null,v=null,$=null,w=e=>{if(!y)return;let l=e.slides[e.activeIndex];if(!l)return;if(v&&v.classList.remove("active"),$){let a=$.getAttribute("data-theme-default")||$.getAttribute("data-theme")||r;$.setAttribute("data-theme",a)}l.classList.add("active");let n=l.querySelector("[data-active-bg]")||l;n.hasAttribute("data-theme-default")||n.setAttribute("data-theme-default",n.getAttribute("data-theme")||r);let s=i(t,b);b=s,n.setAttribute("data-theme",s),v=l,$=n},A=new Swiper(n,{...h,slidesPerView:d.slidesPerView,spaceBetween:d.spaceBetween??0,centeredSlides:!!d.centeredSlides,centeredSlidesBounds:!!d.centeredSlidesBounds,centerInsufficientSlides:!!d.centeredSlides,breakpoints:d.breakpoints,on:{init(){w(this),c&&(s(this),requestAnimationFrame(()=>{try{this.update()}catch(e){}try{this.scrollbar&&this.scrollbar.updateSize()}catch(t){}}))},slideChange(){w(this)},resize(){if(c){try{this.update()}catch(e){}try{this.scrollbar&&this.scrollbar.updateSize()}catch(t){}}}}});e.hasAttribute("data-edge-tap-nav")&&a(e,n,A,{edge:.2})})}function initNavbarBg(){let e=document.querySelector(".navbar__preview-bg");if(!e)return;let t=()=>{let t=window.scrollY>=.25*window.innerHeight;e.classList.toggle("is-scrolled",t)};t(),window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t)}function initBackLink(){let e=document.querySelectorAll("#back-link");e.length&&e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),window.history.length>1?window.history.back():window.location.href="/"})})}function initResourceFilterAndSort(){let e=document.querySelector(".resource__cms-list");if(!e)return;let t=Array.from(e.querySelectorAll(".resource__list-cms-item"));if(!t.length)return;let r=e=>(e||"").trim().toLowerCase().replace(/&/g," and ").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),l=e=>e?.querySelector(".dropdown__toggle > div")||null,i=(e,t)=>{let r=e.querySelector(".dropdown__toggle");r&&(r.setAttribute("data-status",t?"open":"close"),r.setAttribute("aria-expanded",t?"true":"false"))},a=()=>{document.querySelectorAll(".dropdown").forEach(e=>i(e,!1))};t.forEach(e=>{let t=Array.from(e.querySelectorAll(".resource__item-tag-text"));if(!t.length)return;let l=[];t.forEach(e=>{let t=r(e.textContent);t&&!l.includes(t)&&l.push(t)}),l.length&&e.setAttribute("data-filter-name",l.join(" "))});let n=new Map;t.forEach(e=>{let t=(e.getAttribute("data-filter-name")||"").trim().toLowerCase(),r=t?t.split(/\s+/).filter(Boolean):[];n.set(e,new Set(r)),e.getAttribute("data-filter-status")||(e.setAttribute("data-filter-status","active"),e.setAttribute("aria-hidden","false"))});let s=Array.from(document.querySelectorAll(".dropdown"));if(!s.length)return;let o=e=>!!e.querySelector(".dropdown__menu .dropdown__item[data-filter-status]"),d=s.find(o)||null,c=s.find(e=>e!==d)||null,u="all";if(d){let p=d.querySelector(".dropdown__menu-list");if(p&&!p.querySelector('[data-filter-name="all"]')){let f=document.createElement("div");f.setAttribute("role","listitem"),f.className="w-dyn-item";let g=document.createElement("a");g.href="#",g.role="option",g.className="dropdown__item",g.textContent="Show all",g.setAttribute("data-filter-name","all"),g.setAttribute("data-filter-status","active"),g.setAttribute("aria-selected","true"),f.appendChild(g),p.insertBefore(f,p.firstChild)}d.querySelectorAll(".dropdown__menu .dropdown__item[data-filter-status]").forEach(e=>{let t=(e.getAttribute("data-filter-name")||r(e.textContent)).trim().toLowerCase();e.setAttribute("data-filter-name",t)})}let m=e=>{if(!d)return;let t=Array.from(d.querySelectorAll(".dropdown__menu .dropdown__item[data-filter-status]"));t.forEach(t=>{let l=(t.getAttribute("data-filter-name")||r(t.textContent)).trim().toLowerCase();t.setAttribute("data-filter-name",l),t.setAttribute("data-filter-status",l===e?"active":"not-active"),t.setAttribute("aria-selected",l===e?"true":"false")});let i=l(d);if(i){if("all"===e)i.textContent="Filter: Show all";else{let a=t.find(t=>t.getAttribute("data-filter-name")===e);i.textContent=`Filter: ${a?.textContent?.trim()||"Selected"}`}}},h=(e,t)=>{let r=t?"active":"not-active";e.getAttribute("data-filter-status")!==r&&(e.setAttribute("data-filter-status",r),e.setAttribute("aria-hidden",t?"false":"true"))},y=e=>{if(!u||"all"===u)return!0;let t=n.get(e);return!t||t.has(u)},b=()=>{if(!d)return;let e=new Map;t.forEach(t=>{let r=n.get(t);r&&r.forEach(t=>e.set(t,(e.get(t)||0)+1))});let r=Array.from(d.querySelectorAll(".dropdown__menu .dropdown__item[data-filter-name]"));if(r.forEach(t=>{let r=(t.getAttribute("data-filter-name")||"").trim().toLowerCase();if(!r||"all"===r)return;let l=(e.get(r)||0)>0,i=t.closest(".w-dyn-item")||t;i.style.display=l?"":"none",i.setAttribute("aria-hidden",l?"false":"true"),l||(t.setAttribute("data-filter-status","not-active"),t.setAttribute("aria-selected","false"))}),"all"!==u){let l=d.querySelector(`.dropdown__item[data-filter-name="${u}"]`),i=l?.closest(".w-dyn-item")||l,a=!i||"none"===i.style.display;a&&(u="all")}},v=new Map;t.forEach((e,t)=>v.set(e,t));let $=e=>(e.querySelector(".resource__card-title")?.textContent||"").trim().toLowerCase(),w=e=>{let t=(e.getAttribute("data-filter-date")||"").trim();if(!t)return null;let r=Date.parse(t);return Number.isFinite(r)?r:null},A="date-newest",S=()=>{if(!c)return;let e=l(c);e&&(e.textContent=({"date-newest":"Sort by: Date (Newest)","date-oldest":"Sort by: Date (Oldest)","title-az":"Sort by: Title (A–Z)","title-za":"Sort by: Title (Z–A)"})[A]||"Sort by: Date (Newest)")},_=()=>{let r=t.slice();if("title-az"===A||"title-za"===A)r.sort((e,t)=>{let r=$(e).localeCompare($(t),void 0,{numeric:!0,sensitivity:"base"});return"title-az"===A?r:-r});else{let l=r.every(e=>null!==w(e));l?r.sort((e,t)=>{let r=w(e),l=w(t);return r===l?(v.get(e)??0)-(v.get(t)??0):"date-newest"===A?l-r:r-l}):r.sort((e,t)=>(v.get(e)??0)-(v.get(t)??0))}let i=document.createDocumentFragment();r.forEach(e=>i.appendChild(e)),e.appendChild(i)},q=e=>{let t=(e||"").toLowerCase();return t.includes("title")&&t.includes("a")&&t.includes("z")?"title-az":t.includes("title")&&t.includes("z")&&t.includes("a")?"title-za":t.includes("oldest")?"date-oldest":"date-newest"},E=()=>{t.forEach(e=>{e._ft&&clearTimeout(e._ft);let t=y(e),r=e.getAttribute("data-filter-status");"active"===r&&e.setAttribute("data-filter-status","transition-out"),e._ft=setTimeout(()=>{_(),h(e,t),e._ft=null},450)})};b(),m(u),setTimeout(()=>{t.forEach(e=>h(e,y(e))),_()},0),c&&(A="date-newest",S(),_()),document.addEventListener("click",e=>{let t=e.target.closest(".dropdown__toggle"),l=e.target.closest(".dropdown");if(t&&l){e.preventDefault();let n="open"===t.getAttribute("data-status");a(),i(l,!n);return}let s=e.target.closest(".dropdown__menu .dropdown__item");if(s&&l){if(e.preventDefault(),d&&l===d&&s.hasAttribute("data-filter-status")){if(u=(s.getAttribute("data-filter-name")||r(s.textContent)).trim().toLowerCase(),b(),"all"!==u){let o=d.querySelector(`.dropdown__item[data-filter-name="${u}"]`),p=o?.closest(".w-dyn-item")||o;p&&"none"!==p.style.display||(u="all")}m(u),E(),i(d,!1);return}if(c&&l===c){A=q(s.textContent),S(),E(),i(c,!1);return}}l||a()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&a()})}function initTeamCardFlip(){let e=Array.from(document.querySelectorAll(".swiper__team-item[data-flipped-status]"));if(!e.length)return;let t=["yellow","pink","green","purple"],r=e=>{let t=e.slice();for(let r=t.length-1;r>0;r--){let l=Math.floor(Math.random()*(r+1));[t[r],t[l]]=[t[l],t[r]]}return t},l=r(t);e.forEach((e,i)=>{let a=e.querySelector(".swiper__team-card > .team__content:nth-child(2) .team__subtext");if(!a)return;l.length||(l=r(t));let n=l.shift();a.setAttribute("data-theme",n)});let i=(e,t)=>{e&&e.setAttribute("data-flipped-status",t)},a=t=>{e.forEach(e=>{e!==t&&i(e,"not-flipped")})},n=e=>e.getAttribute("data-flipped-status")||"not-flipped";document.addEventListener("click",e=>{let t=e.target.closest(".swiper__team-item[data-flipped-status]");if(!t)return;let r="flipped"===n(t)?"not-flipped":"flipped";"flipped"===r&&a(t),i(t,r)},{passive:!0})}function initDiversityCardsTouch(){let e=document.querySelector(".diversity__list");if(!e)return;let t=window.matchMedia("(hover: none), (pointer: coarse)"),r=null,l=()=>e.querySelectorAll(".diversity__item"),i=()=>{let t=Array.from(l()).some(e=>"open"===e.getAttribute("data-item-status"));e.toggleAttribute("data-has-open",t)},a=()=>{l().forEach(e=>e.setAttribute("data-item-status","close")),i()},n=e=>{let t="open"!==e.getAttribute("data-item-status");a(),t&&(e.setAttribute("data-item-status","open"),i())},s=()=>{let t=e=>{e.target.closest(".diversity__list")||a()},r=e=>{let t=e.target.closest("[data-card-close]");if(t){e.preventDefault();let r=t.closest(".diversity__item");r.setAttribute("data-item-status","close"),i();return}if(e.target.closest(".diversity__item-card"))return;let l=e.target.closest(".diversity__item");l&&(e.stopPropagation(),n(l))};return document.addEventListener("pointerdown",t),e.addEventListener("pointerdown",r),i(),()=>{document.removeEventListener("pointerdown",t),e.removeEventListener("pointerdown",r),e.removeAttribute("data-has-open")}},o=()=>{r&&r(),r=t.matches?s():null};o(),t.addEventListener("change",o)}function initSectorAssignedHoverThemes(){let e=document.querySelector(".sector__cms-list");if(!e)return;let t=window.matchMedia("(hover: hover) and (pointer: fine) and (min-width: 992px)").matches,r=document.querySelector("[data-sector-cta]");r&&!e.contains(r)&&e.appendChild(r);let l=Array.from(e.querySelectorAll(".sector__cms-item"));if(!l.length)return;let i="dark";if(l.forEach(e=>{e.getAttribute("data-theme")||e.setAttribute("data-theme",i)}),!t)return;let a=["yellow","pink","green","purple"].sort(()=>Math.random()-.5);l.forEach((e,t)=>{if(!e.getAttribute("data-hover-theme")){let r=a[t%a.length];e.setAttribute("data-hover-theme",r)}"true"!==e.dataset.hoverBound&&(e.dataset.hoverBound="true",e.addEventListener("mouseenter",()=>{e.setAttribute("data-theme",e.getAttribute("data-hover-theme"))}),e.addEventListener("mouseleave",()=>{e.setAttribute("data-theme",i)}))})}function initRoleTagThemes(){let e=document.querySelector(".role__bg");if(!e)return;let t=Array.from(e.querySelectorAll(".role__cms-item"));if(!t.length)return;let r=e=>e.map(e=>({v:e,r:Math.random()})).sort((e,t)=>e.r-t.r).map(({v:e})=>e),l=r(t),i=l.slice(0,Math.min(3,l.length)),a=r(["yellow","pink","purple"]);t.forEach(e=>{let t=e.querySelector(".role__pill-inner")||e;t.setAttribute("data-theme","role-tag")}),i.forEach((e,t)=>{let r=e.querySelector(".role__pill-inner")||e;r.setAttribute("data-theme",a[t])});let n=new IntersectionObserver(([t])=>{t.isIntersecting&&(e.classList.add("is-ready"),n.disconnect())},{threshold:.75,rootMargin:"0px 0px 0px 0px"});n.observe(e)}function initDraggableMarquee(){let e=document.querySelectorAll("[data-draggable-marquee-init]"),t=(e,t,r)=>{let l=parseFloat(e.getAttribute(t));return Number.isFinite(l)?l:r};e.forEach(e=>{if("initialized"===e.getAttribute("data-draggable-marquee-init"))return;let r=e.querySelector("[data-draggable-marquee-collection]"),l=e.querySelector("[data-draggable-marquee-list]");if(!r||!l)return;let i=t(e,"data-duration",32),a=t(e,"data-multiplier",12),n=t(e,"data-sensitivity",.006),s=t(e,"data-drag-in",.18),o=t(e,"data-drag-out",1.3),d=e.getBoundingClientRect().width,c=l.scrollWidth||l.getBoundingClientRect().width;if(!d||!c)return;let u=d+c+2;for(;r.scrollWidth<u;){let p=l.cloneNode(!0);p.setAttribute("data-draggable-marquee-clone",""),p.setAttribute("aria-hidden","true"),r.appendChild(p)}let f=gsap.utils.wrap(-c,0);gsap.set(r,{x:0});let g=gsap.to(r,{x:-c,duration:i,ease:"none",repeat:-1,onReverseComplete:()=>g.progress(1),modifiers:{x:e=>f(parseFloat(e))+"px"}}),m=(e.getAttribute("data-direction")||"left").toLowerCase(),h="right"===m?-1:1,y={value:h};function b(){g.timeScale(y.value),e.setAttribute("data-direction",y.value<0?"right":"left")}e.setAttribute("data-direction",h<0?"right":"left"),h<0&&g.progress(1),b();let v=Observer.create({target:e,type:"pointer,touch",preventDefault:!0,debounce:!1,onChangeX(e){let t=-(e.velocityX*n);h*t<=0||(t=gsap.utils.clamp(-Math.abs(a),Math.abs(a),t),gsap.killTweensOf(y),gsap.timeline({onUpdate:b}).to(y,{value:t,duration:s,overwrite:!0}).to(y,{value:h,duration:o}))}});ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onEnter(){g.resume(),b(),v.enable()},onEnterBack(){g.resume(),b(),v.enable()},onLeave(){g.pause(),v.disable()},onLeaveBack(){g.pause(),v.disable()}}),e.setAttribute("data-draggable-marquee-init","initialized")})}function initLogoWallCycle(){let e=["var(--_color---brand-core--yellow)","var(--_color---brand-accent--bright-pink)","var(--_color---brand-accent--purple)"];document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(t=>{let r=t.querySelector("[data-logo-wall-list]");if(!r)return;let l=Array.from(r.querySelectorAll("[data-logo-wall-item]"));if(!l.length)return;let i="false"!==t.getAttribute("data-logo-wall-shuffle"),a=l.map(e=>e.querySelector("[data-logo-wall-target]")).filter(Boolean),n=[],s=0,o=[],d=[],c=0,u;function p(e){return"none"!==window.getComputedStyle(e).display}function f(e){let t=e.slice();for(let r=t.length-1;r>0;r--){let l=Math.floor(Math.random()*(r+1));[t[r],t[l]]=[t[l],t[r]]}return t}function g(){u&&u.kill(),d=f(Array.from({length:s=(n=l.filter(p)).length},(e,t)=>t)),c=0,l.forEach(e=>{e.querySelectorAll("[data-logo-wall-target]").forEach(e=>e.remove())}),o=a.map(e=>e.cloneNode(!0));let e,t;if(i){let r=f(o);e=r.slice(0,s),t=f(r.slice(s))}else e=o.slice(0,s),t=f(o.slice(s));o=e.concat(t);for(let g=0;g<s;g++){let h=n[g].querySelector("[data-logo-wall-target-parent]")||n[g];h.appendChild(o.shift())}(u=gsap.timeline({repeat:-1,repeatDelay:1.5})).call(m),u.play()}function m(){let e=l.filter(p).length;if(e!==s){g();return}if(!o.length)return;let t=d[c%s];c++;let r=n[t],i=r.querySelector("[data-logo-wall-target-parent]")||r.querySelector("*:has(> [data-logo-wall-target])")||r,a=i.querySelectorAll("[data-logo-wall-target]");if(a.length>1)return;let u=i.querySelector("[data-logo-wall-target]"),f=o.shift();gsap.set(f,{yPercent:300,autoAlpha:0}),i.appendChild(f),u&&gsap.to(u,{yPercent:-300,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete(){u.remove(),o.push(u)}}),gsap.to(f,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}l.forEach(t=>{let r=t.querySelector("[data-logo-wall-target-parent]")||t;"true"!==r.dataset.randomHoverInit&&(r.dataset.randomHoverInit="true",r.style.getPropertyValue("--logo-hover-bg")||(r.style.setProperty("--logo-hover-bg",e[0]),r.setAttribute("data-logo-color","black"),r.dataset.lastHoverIdx=String(0)),r.addEventListener("pointerenter",()=>{let t=parseInt(r.dataset.lastHoverIdx||"-1",10),l=function e(t,r){if(r<=1)return 0;let l=Math.floor(Math.random()*r);return l===t&&(l=(l+1)%r),l}(t,e.length);r.dataset.lastHoverIdx=String(l),r.style.setProperty("--logo-hover-bg",e[l]),r.setAttribute("data-logo-color",0===l?"black":"white")}))}),g(),ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",onEnter:()=>u.play(),onLeave:()=>u.pause(),onEnterBack:()=>u.play(),onLeaveBack:()=>u.pause()}),document.addEventListener("visibilitychange",()=>document.hidden?u.pause():u.play())})}function initClientLogoCursor(){if(!window.matchMedia("(hover: hover) and (pointer: fine)").matches)return;let e=document.querySelector(".client__cursor");if(!e)return;let t=e.querySelector("[data-client-logo-place]");if(!t)return;let r=document.querySelectorAll(".client__cms-item");if(!r.length)return;let l="client-list",i=e.getAttribute("data-theme")||"",a=["yellow","pink","purple","green"],n=null,s=()=>{if(a.length<=1)return a[0];let e=n;for(;e===n;)e=a[Math.floor(Math.random()*a.length)];return n=e,e},o=(e,t)=>{e&&e.setAttribute("data-theme",t)};gsap.set(e,{autoAlpha:0,xPercent:0,yPercent:0,x:0,y:0});let d=gsap.quickTo(e,"x",{duration:.25,ease:"power3.out"}),c=gsap.quickTo(e,"y",{duration:.25,ease:"power3.out"});function u(e){d(e.clientX+16),c(e.clientY+18)}function p(){gsap.set(e,{autoAlpha:0})}let f=null;function g(){f&&o(f,l),f=null,i?o(e,i):e.removeAttribute("data-theme"),t.removeAttribute("data-filter")}r.forEach(r=>{r.getAttribute("data-theme")||o(r,l),r.addEventListener("mouseenter",i=>{(function t(r){let l=r.clientX+16,i=r.clientY+18;gsap.set(e,{x:l,y:i}),d(l),c(i)})(i),function e(r){let l=r.querySelector("[data-client-logo-clone]");if(!l)return;let i=l.currentSrc||l.src;i&&t.dataset.currentSrc!==i&&(t.dataset.currentSrc=i,t.src=i,l.srcset&&(t.srcset=l.srcset),l.sizes&&(t.sizes=l.sizes),t.alt=l.alt||"")}(r),function r(i){var a;let n=s();f&&f!==i&&o(f,l),f=i,o(i,n),o(e,n),"yellow"===(a=n)?t.setAttribute("data-filter","mono"):t.removeAttribute("data-filter")}(r),gsap.set(e,{autoAlpha:1}),window.addEventListener("mousemove",u,{passive:!0})}),r.addEventListener("mousemove",u,{passive:!0}),r.addEventListener("mouseleave",e=>{let r=e.relatedTarget;r&&r.closest&&r.closest(".client__cms-item")||(p(),window.removeEventListener("mousemove",u),t.dataset.currentSrc="",g())})}),window.addEventListener("blur",()=>{p(),window.removeEventListener("mousemove",u),t.dataset.currentSrc="",g()}),document.addEventListener("mouseleave",()=>{p(),window.removeEventListener("mousemove",u),t.dataset.currentSrc="",g()})}function initJobApplyTrigger(){let e=Array.from(document.querySelectorAll("[data-job-trigger]"));if(!e.length)return;let t=(()=>{let e=window.location.pathname.split("/").filter(Boolean);return e[e.length-1]||""})();if(!t)return;let r=`/apply?job=${encodeURIComponent(t)}`;e.forEach(e=>{let t=e.querySelector("a, button");if(t){if("A"===t.tagName){t.setAttribute("href",r);return}t.style.cursor="pointer",t.addEventListener("click",e=>{e.preventDefault(),window.location.href=r})}})}function initApplyPrefill(){let e=document.getElementById("Job-Slug"),t=document.getElementById("Job-Title"),r=document.querySelector(".apply__content-title"),l=document.querySelector(".eyebrow.is--apply"),i=r?r.querySelector("h2"):document.querySelector(".apply__content-title h2");if(!e&&!t&&!r&&!l&&!i)return;let a=new URLSearchParams(window.location.search),n=(a.get("job")||"").trim();if(!n)return;let s=e=>(e||"").split(" ").filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),o=Array.from(document.querySelectorAll("[data-job-lookup-item][data-job-slug]")),d=o.find(e=>(e.getAttribute("data-job-slug")||"").trim()===n),c=(d?.getAttribute("data-job-title")||"").trim(),u=(d?.getAttribute("data-job-ref")||"").trim(),p=c||(e=>{let t=(e||"").replace(/-([a-zA-Z]?\d{4,6})$/,"");return s(t.replace(/-/g," "))})(n),f=u||(e=>{let t=(e||"").match(/-([a-zA-Z]?\d{4,6})$/);if(!t)return"";let r=t[1];return/^o\d+/i.test(r)?"0"+r.slice(1):r})(n),g=(e=>{let t=(e||"").trim();if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=window.location.origin.replace(/\/$/,"");return`${r}/jobs/${t}`})(n);l&&(l.textContent=f||""),i&&(i.textContent=p||""),e&&(e.value=g||n),t&&(t.value=p||""),r&&requestAnimationFrame(()=>{r.classList.remove("fade-in")})}function initRolesBatchCycle(){if(document.documentElement.classList.contains("wf-design-mode"))return;let e=document.querySelector(".section.sector__roles");if(!e)return;let t=e.querySelector(".role__bg");if(!t)return;let r=Array.from(t.querySelectorAll(".role__cms-item"));if(!r.length||"true"===t.dataset.rolesBatchInit)return;t.dataset.rolesBatchInit="true";let l=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(l){t.classList.add("is-ready"),r.forEach(e=>e.classList.add("is-in-batch"));return}let i=[{tx:"-14vw",ty:"18vh",delay:"0ms"},{tx:"4vw",ty:"28vh",delay:"120ms"},{tx:"38vw",ty:"20vh",delay:"240ms"},{tx:"18vw",ty:"12vh",delay:"0ms"},{tx:"-26vw",ty:"-20vh",delay:"360ms"},{tx:"-36vw",ty:"6vh",delay:"120ms"},{tx:"38vw",ty:"-6vh",delay:"360ms"},{tx:"24vw",ty:"-22vh",delay:"480ms"},{tx:"-6vw",ty:"-26vh",delay:"240ms"},{tx:"-36vw",ty:"-5vh",delay:"480ms"}],a=e=>[2,5,8].includes(e)?{start:"0.75",end:"0.88"}:[1,7].includes(e)?{start:"0.68",end:"0.78"}:null,n=0,s=!1,o=[],d=()=>{o.forEach(e=>clearTimeout(e)),o=[]},c=()=>{t.classList.remove("is-ready"),r.forEach(e=>{e.classList.remove("is-in-batch"),e.style.removeProperty("--scale-start"),e.style.removeProperty("--scale-end");let t=e.querySelector(".role__pill");t&&(t.style.removeProperty("--tx-final"),t.style.removeProperty("--ty-final"),t.style.removeProperty("--delay"))})},u=e=>{r.forEach(e=>e.classList.remove("is-in-batch"));let t=r.slice(e,e+10);return t.forEach((e,t)=>{let r=i[t%i.length];e.classList.add("is-in-batch");let l=e.querySelector(".role__pill");l&&(l.style.setProperty("--tx-final",r.tx),l.style.setProperty("--ty-final",r.ty),l.style.setProperty("--delay",r.delay));let n=a(t);n?(e.style.setProperty("--scale-start",n.start),e.style.setProperty("--scale-end",n.end)):(e.style.removeProperty("--scale-start"),e.style.removeProperty("--scale-end"))}),t.length},p=()=>{if(!s)return;let e=10*n,l=r.length-e;if(l<10)return n=0,p();u(e),t.classList.remove("is-ready"),requestAnimationFrame(()=>{requestAnimationFrame(()=>t.classList.add("is-ready"))}),o.push(setTimeout(()=>{t.classList.remove("is-ready"),o.push(setTimeout(()=>{n+=1;let e=10*n,t=r.length-e;t<10&&(n=0),o.push(setTimeout(p,200))},900))},3400))},f=()=>{if(!s){if(r.length<10){c();return}s=!0,n=0,d(),p()}},g=()=>{s=!1,d(),c()},m=new IntersectionObserver(e=>{e.forEach(e=>e.isIntersecting?f():g())},{threshold:.35});m.observe(e);let h=()=>{g(),m.disconnect(),delete t.dataset.rolesBatchInit};return h}function initImageCycle(){document.querySelectorAll("[data-image-cycle]").forEach(e=>{let t=e.querySelectorAll("[data-image-cycle-item]");if(t.length<2)return;let r=0,l,i=e.getAttribute("data-image-cycle"),a=i&&!isNaN(i)?1e3*parseFloat(i):2e3,n=2===t.length;function s(){let e=r;r=(r+1)%t.length,t[e].setAttribute("data-image-cycle-item","previous"),n||setTimeout(()=>{t[e].setAttribute("data-image-cycle-item","not-active")},a),t[r].setAttribute("data-image-cycle-item","active")}t.forEach((e,t)=>{e.setAttribute("data-image-cycle-item",0===t?"active":"not-active")});let o=new IntersectionObserver(([e])=>{e.isIntersecting&&!l?l=setInterval(s,a):(clearInterval(l),l=null)},{threshold:0});o.observe(e)})}function safe(e,t){try{t()}catch(r){console.error(`[main.js] ${e} failed`,r)}}function boot(){safe("initNavigation",initNavigation),safe("initNavbarBg",initNavbarBg),safe("initLogoWallCycle",initLogoWallCycle),safe("initSwiperSlider",initSwiperSlider),safe("initHomeSectorsSpotlight",initHomeSectorsSpotlight),safe("initCSSMarquee",initCSSMarquee),safe("initImageCycle",initImageCycle),safe("initBackLink",initBackLink),safe("initResourceFilterAndSort",initResourceFilterAndSort),safe("initTeamCardFlip",initTeamCardFlip),safe("initDiversityCardsTouch",initDiversityCardsTouch),safe("initSectorAssignedHoverThemes",initSectorAssignedHoverThemes),safe("initRoleTagThemes",initRoleTagThemes),safe("initRolesBatchCycle",initRolesBatchCycle),safe("initDraggableMarquee",initDraggableMarquee),safe("initClientLogoCursor",initClientLogoCursor),safe("initJobApplyTrigger",initJobApplyTrigger),safe("initApplyPrefill",initApplyPrefill)}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",boot,{once:!0}):boot(),window.addEventListener("pageshow",e=>{e.persisted&&boot()});